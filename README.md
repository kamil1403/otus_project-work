<p align="center">
  <img src="[https://upload.wikimedia.org/wikipedia/commons/a/af/Tux.png](https://upload.wikimedia.org/wikipedia/commons/a/af/Tux.png)" alt="WordPress Cluster" width="120">
</p>

## ![Lesson](https://img.shields.io/badge/Lesson-VLAN_&_LACP-00758F?style=for-the-badge&logo=linux&logoColor=white&labelColor=111827)![Author](https://img.shields.io/badge/Author-Kamil%20Ibragimov-10B981?style=for-the-badge&logo=github&logoColor=white&labelColor=111827)![Date](https://img.shields.io/badge/Date-25.12.2025-F59E0B?style=for-the-badge&logo=calendar&logoColor=white&labelColor=111827)

### üìå –ó–∞–¥–∞–Ω–∏–µ
1. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—ã–π –≤–µ–±-–∫–ª–∞—Å—Ç–µ—Ä –¥–ª—è WordPress –Ω–∞ 6 –í–ú.
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫—É —Ç—Ä–∞—Ñ–∏–∫–∞ (Nginx), Master-Slave —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—é –ë–î (MariaDB) –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥.
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –º–∞—Å—Ç–µ—Ä–µ –∏–∑ —Ä–∞–±–æ—á–µ–π —Ä–µ–ø–ª–∏–∫–∏.

### ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç
- [x] –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∫–æ–¥–æ–º –∏ –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `vagrant up`.
- [x] –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –Ω–∞ Ansible.
- [x] –†–µ–ø–ª–∏–∫–∞—Ü–∏—è –ë–î —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
- [x] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è Master-—É–∑–ª–∞.

---

## üß∞ –®–∞–≥ 1 - –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
| –•–æ—Å—Ç | IP | –†–æ–ª—å | –û–° |
|------|-----------|------|----|
| **front** | 192.168.57.10 | Nginx (Load Balancer) | RHEL/CentOS |
| **back1** | 192.168.57.11 | App Server (Apache/WP) | RHEL/CentOS |
| **back2** | 192.168.57.12 | App Server (Apache/WP) | RHEL/CentOS |
| **db** | 192.168.57.13 | MariaDB Master | RHEL/CentOS |
| **monitor** | 192.168.57.14 | Prometheus/Grafana | RHEL/CentOS |
| **repl** | 192.168.57.15 | MariaDB Slave (Backup) | RHEL/CentOS |

---

## üß∞ –®–∞–≥ 2 - –ó–∞–ø—É—Å–∫
1. –ü–æ–¥–Ω–∏–º–∞–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã:
```bash
vagrant up
```
2. –ó–∞–ø—É—Å–∫–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫—É –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:
```bash
ansible-playbook -i hosts site.yml
```

---

## üß∞ –®–∞–≥ 3 - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ (DRP)
–°—Ü–µ–Ω–∞—Ä–∏–π –ø–æ–ª–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –º–∞—Å—Ç–µ—Ä–∞ –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ –¥–∞–Ω–Ω—ã—Ö:

1. –£–¥–∞–ª—è–µ–º —Ç–µ–∫—É—â–∏–π –º–∞—Å—Ç–µ—Ä: `vagrant destroy db -f`.
2. –ü–æ–¥–Ω–∏–º–∞–µ–º –Ω–æ–≤—ã–π —á–∏—Å—Ç—ã–π —É–∑–µ–ª: `vagrant up db`.
3. –ó–∞–ø—É—Å–∫–∞–µ–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ: `ansible-playbook -i hosts site.yml --limit db`.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Ansible –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏, –∑–∞–±–µ—Ä–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –¥–∞–º–ø —Å —Ö–æ—Å—Ç–∞ `repl`, –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –µ–≥–æ –∏ –∑–∞–Ω–æ–≤–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –ø–æ–∑–∏—Ü–∏—é –ª–æ–≥–æ–≤.

---

## üß∞ –®–∞–≥ 4 - –§–∏–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å
–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏ –Ω–∞ —É–∑–ª–µ `repl`:
```bash
sudo mysql -e "SHOW SLAVE STATUS\G" | grep _Running
```
–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
- **Slave_IO_Running: Yes**
- **Slave_SQL_Running: Yes**

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∞–π—Ç–∞: `http://192.168.57.10`
